package Legacy;
import robocode.*;
import java.awt.geom.*;
import robocode.util.*;
import java.awt.*;

public class Legacy extends AdvancedRobot{
	int others; // variavel chamada other que irá armazenar o numero de outros robos no jogo
	static int legacy = 0; // numero inteiro chamado legazy, definido igual a 0
	int FORWARD = 1;
	Inimigo[] data; 
	int posicao;
	int count;
	String Atualposicao;
	double mudancadaenergia;
	int movidirecao = 1;
	double Previsaoenergia = 100;
	
	public class Inimigo {
	
	public String Nome; 
	public int AcertouComTecnica1 = 2;
	public int AcertouComTecnica2 = 1;
	public int AcertouComTecnica3 = 1;
	public int AtualTecnica = 1;
   }
   

	public void run(){
	{
	setAhead(360);
	setTurnRight(360);   
	setTurnLeft(360);
	setBack(100);}
	 
	setAdjustRadarForGunTurn(true);
	setAdjustRadarForRobotTurn(true); 

	data = new Inimigo[15];
	count = 0;
	for (int a = 0; a < 15; a++) {
		data[a] = new Inimigo();
		data[a].Nome = "";
	}
	// cor do robõ
	setColors(Color.cyan,Color.black,Color.blue,Color.black,Color.blue);
	others = getOthers();//salvar outros bots
	while (true) {
	ahead(100); // andar 100px para frente
	//back(30); // voltar 30px para trás
	//turnRight(45); // gira 45graus
	//turnLeft(90);
	turnRight(360); //lógica do tanque robo
		}
	}
	//tank robo inimigo detectado
	public void onScannedRobot(ScannedRobotEvent e){
    //radar do robotank localizar o inimigo
		String robotank = e.getName(); // duas variaves, getname(nome do robo dectado pelo rada)
		double distancia = e.getDistance(); // obtem distancia em px do tanque do robo inimigo detectado
		System.out.println(robotank + " distancia " + distancia);//imprimir o nome do inimigo e a distancia que se encontra do meu robo
	//	fire(1);
	if (distancia < 135){
		fire(2); // se o inimigo estiver perto, levando em conta a distancia de mais ou menos 3 robos(cada 45px), ele dispara
	}else{
		fire(1); // se n estiver perto a chance de acertar é menos, por isso menos tiro
	}

	if (getEnergy() > 20){ // ou menor que 200
		// se a energia for maior que 20 atire na potência 3
		fire(3);
	}
	else{
		fire(1);
	}
	}
	
	/**
	 * onHitByBullet: o que fazer quando for atingido por uma bala
	 */
	public void onHitByBullet(HitByBulletEvent e) {
		//analisar afundo

	turnRight(45);
	back(100);	
	}
	//colisão com a parede
	public void onHitWall(HitWallEvent e){
		// se o rosetColors(Color.cyan,Color.black,Color.blue,Color.black,Color.blue);bo colidir com a parede ele tem qe retornar 50px(tam do robo), girar 90graus na direita junto com a lógica anterior p/ movi. do tanque robo 
		back(50);
		turnRight(90);
	}
		}